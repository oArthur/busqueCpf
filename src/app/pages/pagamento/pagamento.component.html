<app-title title="Pix gerado com sucesso!" subtitle="Basta scanear o QR Code ou copiar o código para pagar no seu banco." />

<div class="flex flex-col items-center mt-4">
  <img [src]="pagamento.qr_code_url" alt="QR Code" class="w-64 h-64 border p-2 rounded-md">
  <h2 class="text-xl font-bold border-y-gray-600 mt-5 text-primary">Valor: R$ {{ pagamento.valor / 100 }}</h2>

  <!-- Campo com o QR Code -->
  <div class="w-full mt-4 max-w-xs">
    <label class="block text-gray-700 font-medium text-sm">Pix Copia e Cola</label>
    <input type="text" [value]="pagamento.qr_code" readonly
           class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-gray-700 text-sm truncate">

    <!-- Botão para copiar -->
    <button (click)="copyToClipboard(pagamento.qr_code)"
            class="w-full mt-2 bg-primary text-black px-4 py-2 rounded-md hover:bg-black hover:text-gray-100 transition text-sm">
      Copiar Código Pix
    </button>
  </div>

  <div class="flex flex-col justify-center items-center gap-5 w-1/2">
    <h2 class="text-lg font-semibold mt-5">Status do pagamento: {{ status }}</h2>
    <p class="text-gray-700 text-sm mt-4 text-center">
      O pagamento pode levar até <strong>60 segundos</strong> para ser validado.
    </p>
    <p class="text-gray-700 text-sm mt-2 text-center">
      Assim que o pagamento for identificado, você será <strong>redirecionado automaticamente</strong> para o resultado completo.
    </p>

    <p class="text-gray-700 text-sm mt-2 text-center" *ngIf="verificarPagamento">
      Caso tenha realizado o pagamento e não tenha sido redirecionado, clique no botão abaixo para verificar o pagamento.
    </p>

    <button *ngIf="verificarPagamento" (click)="verificarPagamento()"
            class="w-1/2 mt-4 bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition text-sm">
      Verificar Pagamento
    </button>

  </div>

</div>
